{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "button",
  "type": "registry:component",
  "title": "Button",
  "author": "Lloyd Richards <lloyd.d.richards@gmail.com>",
  "description": "An atomic button component built with Lit and styled using Tailwind CSS. Supports multiple variants and sizes for versatile use in web applications.",
  "dependencies": [
    "lucide-static"
  ],
  "registryDependencies": [
    "@lit/base-element",
    "@lit/animations"
  ],
  "files": [
    {
      "path": "registry/ui/button/button.ts",
      "content": "import { cva, type VariantProps } from \"class-variance-authority\";\nimport { css, html, nothing, type PropertyValues } from \"lit\";\nimport {\n  customElement,\n  property,\n  query,\n  queryAssignedElements,\n} from \"lit/decorators.js\";\nimport { unsafeSVG } from \"lit/directives/unsafe-svg.js\";\nimport { LoaderCircle } from \"lucide-static\";\nimport { animations } from \"@/registry/lib/animations\";\nimport { BaseElement } from \"@/registry/lib/base-element\";\nimport { cn } from \"@/registry/lib/utils\";\n\nexport const buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"border bg-background hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost:\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"w-full h-9 px-4 py-2 has-[>svg]:px-3\",\n        sm: \"w-full h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"w-full h-10 rounded-md px-6 has-[>svg]:px-4\",\n        \"icon-sm\": \"size-8\",\n        icon: \"size-9\",\n        \"icon-lg\": \"size-15\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n);\n\ntype ButtonVariants = VariantProps<typeof buttonVariants>;\n\nexport interface ButtonProperties {\n  variant?: ButtonVariants[\"variant\"];\n  size?: ButtonVariants[\"size\"];\n  type?: \"button\" | \"submit\" | \"reset\";\n  disabled?: boolean;\n  loading?: boolean;\n  ariaLabel?: string | null;\n  ariaDescribedby?: string | null;\n  ariaLabelledby?: string | null;\n}\n\n/**\n * @element ui-button\n * @slot - Default content\n * @slot prefix - Content before the label\n * @slot suffix - Content after the label\n * @csspart base - The button element\n * @csspart prefix - The prefix container\n * @csspart content - The main content\n * @csspart suffix - The suffix container\n * @csspart loading - The loading spinner\n * @fires click - Standard click event\n * @fires button-click - Custom click event with detail\n * @fires button-state-change - Emitted when disabled or loading state changes\n * @fires button-loading-start - Emitted when loading starts\n * @fires button-loading-end - Emitted when loading ends\n */\n@customElement(\"ui-button\")\nexport class Button extends BaseElement implements ButtonProperties {\n  // Properties\n  @property({ type: String })\n  variant: ButtonVariants[\"variant\"] = \"default\";\n\n  @property({ type: String })\n  size: ButtonVariants[\"size\"] = \"default\";\n\n  @property({ type: String, reflect: true })\n  type: \"button\" | \"submit\" | \"reset\" = \"button\";\n\n  @property({ type: Boolean, reflect: true }) disabled = false;\n\n  @property({ type: Boolean, reflect: true }) loading = false;\n\n  // Accessibility properties\n  @property({ type: String, attribute: \"aria-label\" })\n  ariaLabel: string | null = null;\n\n  @property({ type: String, attribute: \"aria-describedby\" })\n  ariaDescribedby: string | null = null;\n\n  @property({ type: String, attribute: \"aria-labelledby\" })\n  ariaLabelledby: string | null = null;\n\n  // Query for the button element\n  @query(\"button\") private button!: HTMLButtonElement;\n\n  // Reactive slot detection\n  @queryAssignedElements({ slot: \"prefix\", flatten: true })\n  private _prefixElements!: HTMLElement[];\n\n  @queryAssignedElements({ slot: \"suffix\", flatten: true })\n  private _suffixElements!: HTMLElement[];\n\n  // Minimal styles for layout\n  static styles = css`\n    :host {\n      display: inline-block;\n    }\n    :host([disabled]),\n    :host([loading]) {\n      pointer-events: none;\n    }\n    ::slotted(*) {\n      pointer-events: none;\n    }\n  `;\n\n  override willUpdate(changedProperties: PropertyValues) {\n    super.willUpdate(changedProperties);\n\n    if (changedProperties.has(\"disabled\")) {\n      // Emit state change event\n      this.emit(\"button-state-change\", {\n        disabled: this.disabled,\n        loading: this.loading,\n      });\n    }\n\n    if (changedProperties.has(\"loading\")) {\n      // Handle loading state animation\n      if (this.loading) {\n        this.emit(\"button-loading-start\");\n      } else {\n        this.emit(\"button-loading-end\");\n      }\n    }\n  }\n\n  private handleClick(e: Event) {\n    // Prevent click when disabled or loading\n    if (this.disabled || this.loading) {\n      e.preventDefault();\n      e.stopPropagation();\n      return;\n    }\n\n    // Handle form submission\n    if (this.type === \"submit\") {\n      const form = this.closest(\"form\");\n      if (form) {\n        e.preventDefault();\n        // Validate form\n        if (!form.checkValidity()) {\n          form.reportValidity();\n          return;\n        }\n        // Submit form\n        form.requestSubmit();\n      }\n    } else if (this.type === \"reset\") {\n      const form = this.closest(\"form\");\n      if (form) {\n        e.preventDefault();\n        form.reset();\n      }\n    }\n\n    // Emit custom event\n    this.emit(\"button-click\", {\n      type: this.type,\n      variant: this.variant,\n    });\n  }\n\n  override render() {\n    const hasPrefix = this._prefixElements.length > 0;\n    const hasSuffix = this._suffixElements.length > 0 || this.loading;\n\n    return html`\n      <button\n        part=\"base\"\n        type=${this.type}\n        class=${cn(\n          buttonVariants({ variant: this.variant, size: this.size }),\n          this.loading && \"relative\",\n          this.className,\n        )}\n        ?disabled=${this.disabled || this.loading}\n        aria-label=${this.ariaLabel || nothing}\n        aria-describedby=${this.ariaDescribedby || nothing}\n        aria-labelledby=${this.ariaLabelledby || nothing}\n        aria-disabled=${this.disabled || this.loading ? \"true\" : \"false\"}\n        aria-busy=${this.loading ? \"true\" : \"false\"}\n        @click=${this.handleClick}\n      >\n        ${\n          hasPrefix\n            ? html`\n              <span part=\"prefix\" class=\"mr-2\">\n                <slot name=\"prefix\"></slot>\n              </span>\n            `\n            : nothing\n        }\n\n        <span part=\"content\" class=${this.loading ? \"opacity-0\" : \"\"}>\n          <slot></slot>\n        </span>\n\n        ${\n          hasSuffix\n            ? html`\n              <span part=\"suffix\" class=\"ml-2\">\n                ${\n                  this.loading\n                    ? html`\n                      <span\n                        part=\"loading\"\n                        class=${cn(\n                          \"absolute inset-0 flex items-center justify-center [&>svg]:animate-spin\",\n                          animations.fadeIn,\n                        )}\n                      >\n                        ${unsafeSVG(LoaderCircle)}\n                      </span>\n                    `\n                    : html`<slot name=\"suffix\"></slot>`\n                }\n              </span>\n            `\n            : nothing\n        }\n      </button>\n    `;\n  }\n\n  // Public API methods\n  /**\n   * Focuses the button element\n   * @param options - Focus options\n   */\n  override focus(options?: FocusOptions) {\n    this.button?.focus(options);\n  }\n\n  /**\n   * Removes focus from the button element\n   */\n  override blur() {\n    this.button?.blur();\n  }\n\n  /**\n   * Programmatically clicks the button\n   */\n  click() {\n    this.button?.click();\n  }\n\n  /**\n   * Set loading state programmatically\n   * @param loading - Whether the button should be in loading state\n   */\n  setLoading(loading: boolean) {\n    this.loading = loading;\n  }\n\n  /**\n   * Check if button can submit a form\n   * @returns True if button is a submit button and not disabled or loading\n   */\n  get canSubmit(): boolean {\n    return this.type === \"submit\" && !this.disabled && !this.loading;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ui-button\": Button;\n  }\n\n  interface HTMLElementEventMap {\n    \"button-click\": CustomEvent<{ type: string; variant?: string }>;\n    \"button-state-change\": CustomEvent<{ disabled: boolean; loading: boolean }>;\n    \"button-loading-start\": CustomEvent;\n    \"button-loading-end\": CustomEvent;\n  }\n}\n",
      "type": "registry:ui"
    },
    {
      "path": "registry/ui/button/button.stories.ts",
      "content": "import \"./button\";\nimport type { Meta, StoryObj } from \"@storybook/web-components-vite\";\nimport type { TemplateResult } from \"lit\";\nimport { html } from \"lit\";\nimport type { UnsafeSVGDirective } from \"lit/directives/unsafe-svg.js\";\nimport { unsafeSVG } from \"lit/directives/unsafe-svg.js\";\nimport type { DirectiveResult } from \"lit-html/directive.js\";\nimport { Search } from \"lucide-static\";\nimport type { ButtonProperties } from \"./button\";\n\ntype ButtonArgs = ButtonProperties & {\n  children?:\n    | string\n    | TemplateResult\n    | DirectiveResult<typeof UnsafeSVGDirective>;\n};\n\n/**\n * Displays a button or a component that looks like a button.\n */\nconst meta: Meta<ButtonArgs> = {\n  title: \"ui/Button\",\n  component: \"ui-button\",\n  tags: [\"autodocs\"],\n  argTypes: {\n    variant: {\n      control: \"select\",\n      options: [\n        \"default\",\n        \"destructive\",\n        \"outline\",\n        \"secondary\",\n        \"ghost\",\n        \"link\",\n      ],\n    },\n    size: {\n      control: \"select\",\n      options: [\"default\", \"sm\", \"lg\", \"icon-sm\", \"icon\", \"icon-lg\"],\n      if: { arg: \"variant\", neq: \"link\" },\n    },\n    type: {\n      control: \"select\",\n      options: [\"button\", \"submit\", \"reset\"],\n    },\n    disabled: {\n      control: \"boolean\",\n    },\n    loading: {\n      control: \"boolean\",\n    },\n    ariaLabel: {\n      control: \"text\",\n    },\n    ariaDescribedby: {\n      control: \"text\",\n    },\n    ariaLabelledby: {\n      control: \"text\",\n    },\n    children: {\n      control: \"text\",\n    },\n  },\n  parameters: {\n    layout: \"centered\",\n  },\n  args: {\n    variant: \"default\",\n    size: \"default\",\n    type: \"button\",\n    disabled: false,\n    loading: false,\n    children: \"Button\",\n  },\n  render: (args) =>\n    html`<ui-button\n      .variant=${args.variant}\n      .size=${args.size}\n      .type=${args.type}\n      .disabled=${args.disabled}\n      .loading=${args.loading}\n      .ariaLabel=${args.ariaLabel}\n      .ariaDescribedby=${args.ariaDescribedby}\n      .ariaLabelledby=${args.ariaLabelledby}\n    >\n      ${args.children}\n    </ui-button>`,\n};\n\nexport default meta;\n\ntype Story = StoryObj<ButtonArgs>;\n\n/**\n * The default form of the button, used for primary actions and commands.\n */\nexport const Default: Story = {};\n\n/**\n * Use the `outline` button to reduce emphasis on secondary actions, such as\n * canceling or dismissing a dialog.\n */\nexport const Outline: Story = {\n  args: {\n    variant: \"outline\",\n  },\n};\n\n/**\n * Use the `ghost` button is minimalistic and subtle, for less intrusive\n * actions.\n */\nexport const Ghost: Story = {\n  args: {\n    variant: \"ghost\",\n  },\n};\n\n/**\n * Use the `secondary` button to call for less emphasized actions, styled to\n * complement the primary button while being less conspicuous.\n */\nexport const Secondary: Story = {\n  args: {\n    variant: \"secondary\",\n  },\n};\n\n/**\n * Use the `destructive` button to indicate errors, alerts, or the need for\n * immediate attention.\n */\nexport const Destructive: Story = {\n  args: {\n    variant: \"destructive\",\n  },\n};\n\n/**\n * Use the `link` button to reduce emphasis on tertiary actions, such as\n * hyperlink or navigation, providing a text-only interactive element.\n */\nexport const Link: Story = {\n  args: {\n    variant: \"link\",\n  },\n};\n\n/**\n * Use the `sm` size for a smaller button, suitable for interfaces needing\n * compact elements without sacrificing usability.\n */\nexport const Small: Story = {\n  args: {\n    size: \"sm\",\n  },\n};\n\n/**\n * Use the `lg` size for a larger button, offering better visibility and\n * easier interaction for users.\n */\nexport const Large: Story = {\n  args: {\n    size: \"lg\",\n  },\n};\n\n/**\n * Use the \"icon\" size for a button with only an icon.\n */\nexport const Icon: Story = {\n  args: {\n    variant: \"secondary\",\n    size: \"icon\",\n    ariaLabel: \"Icon button\",\n    children: unsafeSVG(Search),\n  },\n};\n\n/**\n * Use the `icon-sm` size for a smaller icon-only button.\n */\nexport const IconSmall: Story = {\n  args: {\n    variant: \"secondary\",\n    size: \"icon-sm\",\n    ariaLabel: \"Small icon button\",\n    children: unsafeSVG(Search),\n  },\n};\n\n/**\n * Use the `icon-lg` size for a larger icon-only button.\n */\nexport const IconLarge: Story = {\n  args: {\n    variant: \"secondary\",\n    size: \"icon-lg\",\n    ariaLabel: \"Large icon button\",\n    children: unsafeSVG(Search),\n  },\n};\n\n/**\n * Add the `disabled` prop to prevent interactions with the button.\n */\nexport const Disabled: Story = {\n  args: {\n    disabled: true,\n  },\n};\n\n/**\n * Add the `loading` prop to show a loading state.\n */\nexport const Loading: Story = {\n  args: {\n    loading: true,\n    children: \"Loading...\",\n  },\n};\n\n/**\n * Loading states work with all variants.\n */\nexport const LoadingVariants: Story = {\n  render: () => html`\n    <div class=\"flex flex-col gap-4\">\n      <ui-button loading>Default Loading</ui-button>\n      <ui-button loading variant=\"secondary\">Secondary Loading</ui-button>\n      <ui-button loading variant=\"outline\">Outline Loading</ui-button>\n      <ui-button loading variant=\"destructive\">Destructive Loading</ui-button>\n    </div>\n  `,\n};\n\n/**\n * Use the `prefix` slot to add content before the button text.\n */\nexport const WithPrefix: Story = {\n  render: () => html`\n    <ui-button>\n      <svg\n        slot=\"prefix\"\n        class=\"w-4 h-4\"\n        fill=\"currentColor\"\n        viewBox=\"0 0 20 20\"\n      >\n        <path\n          d=\"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z\"\n        />\n      </svg>\n      Home\n    </ui-button>\n  `,\n};\n\n/**\n * Use the `suffix` slot to add content after the button text.\n */\nexport const WithSuffix: Story = {\n  render: () => html`\n    <ui-button>\n      Next\n      <svg\n        slot=\"suffix\"\n        class=\"w-4 h-4\"\n        fill=\"currentColor\"\n        viewBox=\"0 0 20 20\"\n      >\n        <path\n          fill-rule=\"evenodd\"\n          d=\"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z\"\n          clip-rule=\"evenodd\"\n        />\n      </svg>\n    </ui-button>\n  `,\n};\n\n/**\n * Combine prefix and suffix slots for complex button layouts.\n */\nexport const WithPrefixAndSuffix: Story = {\n  render: () => html`\n    <ui-button variant=\"outline\">\n      <svg\n        slot=\"prefix\"\n        class=\"w-4 h-4\"\n        fill=\"currentColor\"\n        viewBox=\"0 0 20 20\"\n      >\n        <path d=\"M10 12a2 2 0 100-4 2 2 0 000 4z\" />\n        <path\n          fill-rule=\"evenodd\"\n          d=\"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z\"\n          clip-rule=\"evenodd\"\n        />\n      </svg>\n      View Details\n      <svg\n        slot=\"suffix\"\n        class=\"w-4 h-4\"\n        fill=\"currentColor\"\n        viewBox=\"0 0 20 20\"\n      >\n        <path\n          fill-rule=\"evenodd\"\n          d=\"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z\"\n          clip-rule=\"evenodd\"\n        />\n      </svg>\n    </ui-button>\n  `,\n};\n\n/**\n * Test form submission with submit and reset buttons.\n */\nexport const FormSubmission: Story = {\n  render: () => html`\n    <form\n      @submit=${(e: Event) => {\n        e.preventDefault();\n        alert(\"Form submitted!\");\n      }}\n      class=\"flex flex-col gap-4 max-w-md\"\n    >\n      <input\n        type=\"text\"\n        required\n        placeholder=\"Enter text (required)\"\n        class=\"px-3 py-2 border rounded-md\"\n      />\n      <div class=\"flex gap-2\">\n        <ui-button type=\"submit\">Submit</ui-button>\n        <ui-button type=\"reset\" variant=\"outline\">Reset</ui-button>\n      </div>\n    </form>\n  `,\n};\n",
      "type": "registry:ui"
    }
  ],
  "categories": [
    "ui",
    "button",
    "web-component"
  ]
}